<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-comment">-- To avoid having a &quot;cardano-node&quot; dependency, topology types were almost</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- identically copied from `Cardano.Node.Configuration.Topology` and</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- `Cardano.Node.Configuration.TopologyP2P` (and its dependencies).</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- One difference is that we replaced `HotValency` and `WarmValency` with a</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- single `Valency` type.</span><span>
</span><span id="line-9"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Benchmarking.Topology.Projection</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionCoreNode"><span class="hs-identifier">projectionCoreNode</span></a></span><span>
</span><span id="line-13"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionRelayNode"><span class="hs-identifier">projectionRelayNode</span></a></span><span>
</span><span id="line-14"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionChainDB"><span class="hs-identifier">projectionChainDB</span></a></span><span>
</span><span id="line-15"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bool.html"><span class="hs-identifier">Data.Bool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bool.html#bool"><span class="hs-identifier">bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Word.html"><span class="hs-identifier">Data.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html"><span class="hs-identifier">GHC.Generics</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Text.Read.html"><span class="hs-identifier">Text.Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Text.Read.html#readMaybe"><span class="hs-identifier">readMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- Package: aeson.</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-26"></span><span class="hs-comment">-- Package: iproute.</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/qw6dszy1m9y853pk8yx750jm30kf9890-iproute-lib-iproute-1.7.15-haddock-doc/share/doc/iproute/html/src/Data.IP.html"><span class="hs-identifier">Data.IP</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IP</span></span><span>
</span><span id="line-28"></span><span class="hs-comment">-- Package: network.</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/p3lbz4qldpv4m9cv7xr6w0gkw6fl0x10-dns-lib-dns-4.2.0-haddock-doc/share/doc/dns/html/src/Network.DNS.html"><span class="hs-identifier">Network.DNS</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">DNS</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/rm9wgn8mhzbzwnyfgfzbckcc2pln5y8m-network-lib-network-3.2.8.0-haddock-doc/share/doc/network/html/src/Network.Socket.html"><span class="hs-identifier">Network.Socket</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Socket</span></span><span>
</span><span id="line-31"></span><span class="hs-comment">-- Package: text.</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Encoding.html"><span class="hs-identifier">Data.Text.Encoding</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TextEncoding</span></span><span>
</span><span id="line-34"></span><span class="hs-comment">-- Package: self.</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html"><span class="hs-identifier">Cardano.Benchmarking.Topology.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Types</span></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionCoreNode"><span class="hs-identifier hs-type">projectionCoreNode</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-type">NetworkTopologyP2P</span></a></span><span>
</span><span id="line-40"></span><span id="projectionCoreNode"><span class="annot"><span class="annottext">projectionCoreNode :: Topology -&gt; Int -&gt; Int -&gt; NetworkTopologyP2P
</span><a href="Cardano.Benchmarking.Topology.Projection.html#projectionCoreNode"><span class="hs-identifier hs-var hs-var">projectionCoreNode</span></a></span></span><span>  </span><span id="local-6989586621679103001"><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103001"><span class="hs-identifier hs-var">topology</span></a></span></span><span> </span><span id="local-6989586621679103002"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103002"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><span class="annottext">Topology -&gt; [String] -&gt; Int -&gt; NetworkTopologyP2P
</span><a href="Cardano.Benchmarking.Topology.Projection.html#projectionP2P"><span class="hs-identifier hs-var">projectionP2P</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103001"><span class="hs-identifier hs-var">topology</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Topology -&gt; Int -&gt; [String]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeProducersById"><span class="hs-identifier hs-var">getCoreNodeProducersById</span></a></span><span>  </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103001"><span class="hs-identifier hs-var">topology</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103002"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionRelayNode"><span class="hs-identifier hs-type">projectionRelayNode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-type">NetworkTopologyP2P</span></a></span><span>
</span><span id="line-44"></span><span id="projectionRelayNode"><span class="annot"><span class="annottext">projectionRelayNode :: Topology -&gt; Int -&gt; Int -&gt; NetworkTopologyP2P
</span><a href="Cardano.Benchmarking.Topology.Projection.html#projectionRelayNode"><span class="hs-identifier hs-var hs-var">projectionRelayNode</span></a></span></span><span> </span><span id="local-6989586621679103005"><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103005"><span class="hs-identifier hs-var">topology</span></a></span></span><span> </span><span id="local-6989586621679103006"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103006"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><span class="annottext">Topology -&gt; [String] -&gt; Int -&gt; NetworkTopologyP2P
</span><a href="Cardano.Benchmarking.Topology.Projection.html#projectionP2P"><span class="hs-identifier hs-var">projectionP2P</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103005"><span class="hs-identifier hs-var">topology</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Topology -&gt; Int -&gt; [String]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getRelayNodeProducersById"><span class="hs-identifier hs-var">getRelayNodeProducersById</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103005"><span class="hs-identifier hs-var">topology</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103006"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionP2P"><span class="hs-identifier hs-type">projectionP2P</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-type">NetworkTopologyP2P</span></a></span><span>
</span><span id="line-48"></span><span id="projectionP2P"><span class="annot"><span class="annottext">projectionP2P :: Topology -&gt; [String] -&gt; Int -&gt; NetworkTopologyP2P
</span><a href="Cardano.Benchmarking.Topology.Projection.html#projectionP2P"><span class="hs-identifier hs-var hs-var">projectionP2P</span></a></span></span><span> </span><span id="local-6989586621679103008"><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103008"><span class="hs-identifier hs-var">topology</span></a></span></span><span> </span><span id="local-6989586621679103009"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679103009"><span class="hs-identifier hs-var">producers</span></a></span></span><span> </span><span id="local-6989586621679103010"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103010"><span class="hs-identifier hs-var">basePort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopologyP2P"><span class="hs-identifier hs-type">RealNodeTopologyP2P</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">{</span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><span class="annottext">ntLocalRootPeersGroups :: LocalRootPeersGroups
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntLocalRootPeersGroups"><span class="hs-identifier hs-var">ntLocalRootPeersGroups</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-type">LocalRootPeersGroups</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-51"></span><span>      </span><span class="annot"><span class="annottext">groups :: [LocalRootPeersGroup]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#groups"><span class="hs-identifier hs-var">groups</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; LocalRootPeersGroup)
-&gt; [String] -&gt; [LocalRootPeersGroup]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span>
</span><span id="line-52"></span><span>        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679103015"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679103015"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-53"></span><span>          </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-type">LocalRootPeersGroup</span></a></span><span>
</span><span id="line-54"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">localRoots :: RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#localRoots"><span class="hs-identifier hs-var">localRoots</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-type">RootConfig</span></a></span><span>
</span><span id="line-55"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rootAccessPoints :: [RelayAccessPoint]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAccessPoints"><span class="hs-identifier hs-var">rootAccessPoints</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-56"></span><span>                    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">IP -&gt; PortNumber -&gt; RelayAccessPoint
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessAddress"><span class="hs-identifier hs-var">RelayAccessAddress</span></a></span><span>
</span><span id="line-57"></span><span>                      </span><span class="annot"><span class="annottext">IP
</span><span class="hs-string">&quot;127.0.0.1&quot;</span></span><span>
</span><span id="line-58"></span><span>                      </span><span class="hs-special">(</span><span>
</span><span id="line-59"></span><span>                        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679103021"><span class="annot"><span class="annottext">node :: Node
</span><a href="#local-6989586621679103021"><span class="hs-identifier hs-var hs-var">node</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Topology -&gt; String -&gt; Node
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeByName"><span class="hs-identifier hs-var">getCoreNodeByName</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103008"><span class="hs-identifier hs-var">topology</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679103015"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-60"></span><span>                            </span><span id="local-6989586621679103023"><span class="annot"><span class="annottext">nodeId :: Int
</span><a href="#local-6989586621679103023"><span class="hs-identifier hs-var hs-var">nodeId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Node -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Types.html#nodeId"><span class="hs-identifier hs-var">Types.nodeId</span></a></span><span> </span><span class="annot"><span class="annottext">Node
</span><a href="#local-6989586621679103021"><span class="hs-identifier hs-var">node</span></a></span><span>
</span><span id="line-61"></span><span>                        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Int -&gt; PortNumber
forall a. Enum a =&gt; Int -&gt; a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Enum.html#toEnum"><span class="hs-identifier hs-var">toEnum</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; PortNumber) -&gt; Int -&gt; PortNumber
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103010"><span class="hs-identifier hs-var">basePort</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103023"><span class="hs-identifier hs-var">nodeId</span></a></span><span>
</span><span id="line-62"></span><span>                      </span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>                    </span><span class="hs-special">]</span><span>
</span><span id="line-64"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rootAdvertise :: PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAdvertise"><span class="hs-identifier hs-var">rootAdvertise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoNotAdvertisePeer"><span class="hs-identifier hs-var">DoNotAdvertisePeer</span></a></span><span>
</span><span id="line-65"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-66"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">trustable :: PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#trustable"><span class="hs-identifier hs-var">trustable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsTrustable"><span class="hs-identifier hs-var">IsTrustable</span></a></span><span>
</span><span id="line-67"></span><span>            </span><span class="hs-comment">-- One `accessPoints` for each `localRoots`.</span><span>
</span><span id="line-68"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">valency :: Valency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#valency"><span class="hs-identifier hs-var">valency</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Valency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-var">Valency</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-69"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-70"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>        </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679103009"><span class="hs-identifier hs-var">producers</span></a></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ntPublicRootPeers :: [PublicRootPeers]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntPublicRootPeers"><span class="hs-identifier hs-var">ntPublicRootPeers</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ntUseLedgerPeers :: UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseLedgerPeers"><span class="hs-identifier hs-var">ntUseLedgerPeers</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseLedgerPeers"><span class="hs-identifier hs-var">DontUseLedgerPeers</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ntUseBootstrapPeers :: UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseBootstrapPeers"><span class="hs-identifier hs-var">ntUseBootstrapPeers</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseBootstrapPeers"><span class="hs-identifier hs-var">DontUseBootstrapPeers</span></a></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-comment">-- ChainDB servers using the non-p2p topology are just &quot;{localRoots:[]}&quot;.</span><span>
</span><span id="line-79"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#projectionChainDB"><span class="hs-identifier hs-type">projectionChainDB</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-type">NetworkTopologyP2P</span></a></span><span>
</span><span id="line-80"></span><span id="projectionChainDB"><span class="annot"><span class="annottext">projectionChainDB :: Topology -&gt; NetworkTopologyP2P
</span><a href="Cardano.Benchmarking.Topology.Projection.html#projectionChainDB"><span class="hs-identifier hs-var hs-var">projectionChainDB</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; Topology -&gt; NetworkTopologyP2P
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P
</span><a href="Cardano.Benchmarking.Topology.Projection.html#emptyNetworkTopologyP2P"><span class="hs-identifier hs-var">emptyNetworkTopologyP2P</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeByName"><span class="hs-identifier hs-type">getCoreNodeByName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Node"><span class="hs-identifier hs-type">Types.Node</span></a></span><span>
</span><span id="line-85"></span><span id="getCoreNodeByName"><span class="annot"><span class="annottext">getCoreNodeByName :: Topology -&gt; String -&gt; Node
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeByName"><span class="hs-identifier hs-var hs-var">getCoreNodeByName</span></a></span></span><span> </span><span id="local-6989586621679103040"><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103040"><span class="hs-identifier hs-var">topology</span></a></span></span><span> </span><span id="local-6989586621679103041"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679103041"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Node] -&gt; Int -&gt; Node
forall a. HasCallStack =&gt; [a] -&gt; Int -&gt; a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#%21%21"><span class="hs-operator hs-var">!!</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Node] -&gt; Node) -&gt; [Node] -&gt; Node
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><span class="annottext">(Node -&gt; Bool) -&gt; [Node] -&gt; [Node]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span>
</span><span id="line-88"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679103041"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Bool) -&gt; (Node -&gt; String) -&gt; Node -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Node -&gt; String
</span><a href="Cardano.Benchmarking.Topology.Types.html#name"><span class="hs-identifier hs-var">Types.name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Topology -&gt; [Node]
</span><a href="Cardano.Benchmarking.Topology.Types.html#coreNodes"><span class="hs-identifier hs-var">Types.coreNodes</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103040"><span class="hs-identifier hs-var">topology</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeProducersById"><span class="hs-identifier hs-type">getCoreNodeProducersById</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-92"></span><span id="getCoreNodeProducersById"><span class="annot"><span class="annottext">getCoreNodeProducersById :: Topology -&gt; Int -&gt; [String]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getCoreNodeProducersById"><span class="hs-identifier hs-var hs-var">getCoreNodeProducersById</span></a></span></span><span> </span><span id="local-6989586621679103046"><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103046"><span class="hs-identifier hs-var">topology</span></a></span></span><span> </span><span id="local-6989586621679103047"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103047"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Node -&gt; [String]
</span><a href="Cardano.Benchmarking.Topology.Types.html#producers"><span class="hs-identifier hs-var">Types.producers</span></a></span><span> </span><span class="annot"><span class="annottext">(Node -&gt; [String]) -&gt; Node -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Node] -&gt; Int -&gt; Node
forall a. HasCallStack =&gt; [a] -&gt; Int -&gt; a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#%21%21"><span class="hs-operator hs-var">!!</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Node] -&gt; Node) -&gt; [Node] -&gt; Node
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><span class="annottext">(Node -&gt; Bool) -&gt; [Node] -&gt; [Node]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span>
</span><span id="line-95"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103047"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool) -&gt; (Node -&gt; Int) -&gt; Node -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Node -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Types.html#nodeId"><span class="hs-identifier hs-var">Types.nodeId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Topology -&gt; [Node]
</span><a href="Cardano.Benchmarking.Topology.Types.html#coreNodes"><span class="hs-identifier hs-var">Types.coreNodes</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103046"><span class="hs-identifier hs-var">topology</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#getRelayNodeProducersById"><span class="hs-identifier hs-type">getRelayNodeProducersById</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Types.html#Topology"><span class="hs-identifier hs-type">Types.Topology</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-99"></span><span id="getRelayNodeProducersById"><span class="annot"><span class="annottext">getRelayNodeProducersById :: Topology -&gt; Int -&gt; [String]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getRelayNodeProducersById"><span class="hs-identifier hs-var hs-var">getRelayNodeProducersById</span></a></span></span><span> </span><span id="local-6989586621679103049"><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103049"><span class="hs-identifier hs-var">topology</span></a></span></span><span> </span><span id="local-6989586621679103050"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103050"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Node -&gt; [String]
</span><a href="Cardano.Benchmarking.Topology.Types.html#producers"><span class="hs-identifier hs-var">Types.producers</span></a></span><span> </span><span class="annot"><span class="annottext">(Node -&gt; [String]) -&gt; Node -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Node] -&gt; Int -&gt; Node
forall a. HasCallStack =&gt; [a] -&gt; Int -&gt; a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#%21%21"><span class="hs-operator hs-var">!!</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Node] -&gt; Node) -&gt; [Node] -&gt; Node
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-101"></span><span>    </span><span class="annot"><span class="annottext">(Node -&gt; Bool) -&gt; [Node] -&gt; [Node]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span>
</span><span id="line-102"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103050"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool) -&gt; (Node -&gt; Int) -&gt; Node -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Node -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Types.html#nodeId"><span class="hs-identifier hs-var">Types.nodeId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Topology -&gt; [Node]
</span><a href="Cardano.Benchmarking.Topology.Types.html#relayNodes"><span class="hs-identifier hs-var">Types.relayNodes</span></a></span><span> </span><span class="annot"><span class="annottext">Topology
</span><a href="#local-6989586621679103049"><span class="hs-identifier hs-var">topology</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- Projection for a P2P topology. ----------------------------------------------</span><span>
</span><span id="line-107"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-comment">{-- Example:
{
  &quot;localRoots&quot;: [
    {
      &quot;accessPoints&quot;: [
        {
          &quot;address&quot;: &quot;127.0.0.1&quot;,
          &quot;port&quot;: 30000
        }
      ],
      &quot;advertise&quot;: false,
      &quot;trustable&quot;: true,
      &quot;valency&quot;: 1
    },
    {
      &quot;accessPoints&quot;: [
        {
          &quot;address&quot;: &quot;127.0.0.1&quot;,
          &quot;port&quot;: 30001
        }
      ],
      &quot;advertise&quot;: false,
      &quot;trustable&quot;: true,
      &quot;valency&quot;: 1
    }
  ],
  &quot;publicRoots&quot;: [],
  &quot;useLedgerAfterSlot&quot;: -1
}

--}</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-comment">--------------------------------------------</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- Cardano.Node.Configuration.TopologyP2P --</span><span>
</span><span id="line-143"></span><span class="hs-comment">--------------------------------------------</span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Node/Configuration/TopologyP2P.hs#L184</span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="hs-comment">-- Renamed `NetworkTopology`.</span><span>
</span><span id="line-148"></span><span class="hs-keyword">data</span><span> </span><span id="NetworkTopologyP2P"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-var">NetworkTopologyP2P</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RealNodeTopologyP2P"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopologyP2P"><span class="hs-identifier hs-var">RealNodeTopologyP2P</span></a></span></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="ntLocalRootPeersGroups"><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; LocalRootPeersGroups
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntLocalRootPeersGroups"><span class="hs-identifier hs-var hs-var">ntLocalRootPeersGroups</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-type">LocalRootPeersGroups</span></a></span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ntPublicRootPeers"><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; [PublicRootPeers]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntPublicRootPeers"><span class="hs-identifier hs-var hs-var">ntPublicRootPeers</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-type">PublicRootPeers</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ntUseLedgerPeers"><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseLedgerPeers"><span class="hs-identifier hs-var hs-var">ntUseLedgerPeers</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-type">UseLedgerPeers</span></a></span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ntUseBootstrapPeers"><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseBootstrapPeers"><span class="hs-identifier hs-var hs-var">ntUseBootstrapPeers</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-type">UseBootstrapPeers</span></a></span><span>
</span><span id="line-153"></span><span class="hs-comment">{- TODO:
  , ntPeerSnapshotPath     :: !(Maybe PeerSnapshotFile)
-}</span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103053"><span id="local-6989586621679103063"><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool
(NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool)
-&gt; (NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool)
-&gt; Eq NetworkTopologyP2P
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool
== :: NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool
$c/= :: NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool
/= :: NetworkTopologyP2P -&gt; NetworkTopologyP2P -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103069"><span id="local-6989586621679103082"><span id="local-6989586621679103086"><span class="annot"><span class="annottext">Int -&gt; NetworkTopologyP2P -&gt; ShowS
[NetworkTopologyP2P] -&gt; ShowS
NetworkTopologyP2P -&gt; String
(Int -&gt; NetworkTopologyP2P -&gt; ShowS)
-&gt; (NetworkTopologyP2P -&gt; String)
-&gt; ([NetworkTopologyP2P] -&gt; ShowS)
-&gt; Show NetworkTopologyP2P
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; NetworkTopologyP2P -&gt; ShowS
showsPrec :: Int -&gt; NetworkTopologyP2P -&gt; ShowS
$cshow :: NetworkTopologyP2P -&gt; String
show :: NetworkTopologyP2P -&gt; String
$cshowList :: [NetworkTopologyP2P] -&gt; ShowS
showList :: [NetworkTopologyP2P] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#emptyNetworkTopologyP2P"><span class="hs-identifier hs-type">emptyNetworkTopologyP2P</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-type">NetworkTopologyP2P</span></a></span><span>
</span><span id="line-160"></span><span id="emptyNetworkTopologyP2P"><span class="annot"><span class="annottext">emptyNetworkTopologyP2P :: NetworkTopologyP2P
</span><a href="Cardano.Benchmarking.Topology.Projection.html#emptyNetworkTopologyP2P"><span class="hs-identifier hs-var hs-var">emptyNetworkTopologyP2P</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopologyP2P"><span class="hs-identifier hs-type">RealNodeTopologyP2P</span></a></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ntLocalRootPeersGroups :: LocalRootPeersGroups
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntLocalRootPeersGroups"><span class="hs-identifier hs-var">ntLocalRootPeersGroups</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LocalRootPeersGroup] -&gt; LocalRootPeersGroups
</span><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-var">LocalRootPeersGroups</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ntPublicRootPeers :: [PublicRootPeers]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntPublicRootPeers"><span class="hs-identifier hs-var">ntPublicRootPeers</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ntUseLedgerPeers :: UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseLedgerPeers"><span class="hs-identifier hs-var">ntUseLedgerPeers</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseLedgerPeers"><span class="hs-identifier hs-var">DontUseLedgerPeers</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ntUseBootstrapPeers :: UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseBootstrapPeers"><span class="hs-identifier hs-var">ntUseBootstrapPeers</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseBootstrapPeers"><span class="hs-identifier hs-var">DontUseBootstrapPeers</span></a></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103092"><span id="local-6989586621679103096"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-type">NetworkTopologyP2P</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-168"></span><span>  </span><span id="local-6989586621679103120"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser NetworkTopologyP2P
</span><a href="#local-6989586621679103120"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser NetworkTopologyP2P)
-&gt; Value
-&gt; Parser NetworkTopologyP2P
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;NetworkTopologyP2P&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser NetworkTopologyP2P)
 -&gt; Value -&gt; Parser NetworkTopologyP2P)
-&gt; (Object -&gt; Parser NetworkTopologyP2P)
-&gt; Value
-&gt; Parser NetworkTopologyP2P
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679103123"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103123"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroups
-&gt; [PublicRootPeers]
-&gt; UseLedgerPeers
-&gt; UseBootstrapPeers
-&gt; NetworkTopologyP2P
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RealNodeTopologyP2P"><span class="hs-identifier hs-var">RealNodeTopologyP2P</span></a></span><span>
</span><span id="line-169"></span><span>    </span><span class="annot"><span class="annottext">(LocalRootPeersGroups
 -&gt; [PublicRootPeers]
 -&gt; UseLedgerPeers
 -&gt; UseBootstrapPeers
 -&gt; NetworkTopologyP2P)
-&gt; Parser LocalRootPeersGroups
-&gt; Parser
     ([PublicRootPeers]
      -&gt; UseLedgerPeers -&gt; UseBootstrapPeers -&gt; NetworkTopologyP2P)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103123"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser LocalRootPeersGroups
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span>  </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;localRoots&quot;</span></span><span>                                        </span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><span class="annottext">Parser
  ([PublicRootPeers]
   -&gt; UseLedgerPeers -&gt; UseBootstrapPeers -&gt; NetworkTopologyP2P)
-&gt; Parser [PublicRootPeers]
-&gt; Parser
     (UseLedgerPeers -&gt; UseBootstrapPeers -&gt; NetworkTopologyP2P)
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103123"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser [PublicRootPeers]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span>  </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;publicRoots&quot;</span></span><span>                                       </span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><span class="annottext">Parser (UseLedgerPeers -&gt; UseBootstrapPeers -&gt; NetworkTopologyP2P)
-&gt; Parser UseLedgerPeers
-&gt; Parser (UseBootstrapPeers -&gt; NetworkTopologyP2P)
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103123"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe UseLedgerPeers)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">Aeson..:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;useLedgerAfterSlot&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe UseLedgerPeers)
-&gt; UseLedgerPeers -&gt; Parser UseLedgerPeers
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..!=</span></span><span> </span><span class="annot"><span class="annottext">UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseLedgerPeers"><span class="hs-identifier hs-var">DontUseLedgerPeers</span></a></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>    </span><span class="annot"><span class="annottext">Parser (UseBootstrapPeers -&gt; NetworkTopologyP2P)
-&gt; Parser UseBootstrapPeers -&gt; Parser NetworkTopologyP2P
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103123"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe UseBootstrapPeers)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">Aeson..:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;bootstrapPeers&quot;</span></span><span>     </span><span class="annot"><span class="annottext">Parser (Maybe UseBootstrapPeers)
-&gt; UseBootstrapPeers -&gt; Parser UseBootstrapPeers
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..!=</span></span><span> </span><span class="annot"><span class="annottext">UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseBootstrapPeers"><span class="hs-identifier hs-var">DontUseBootstrapPeers</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span class="hs-comment">{- TODO:
    &lt;*&gt; (o Aeson..:? &quot;peerSnapshotFile&quot;                                  )
-}</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103130"><span id="local-6989586621679103134"><span id="local-6989586621679103137"><span id="local-6989586621679103140"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#NetworkTopologyP2P"><span class="hs-identifier hs-type">NetworkTopologyP2P</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-178"></span><span>  </span><span id="local-6989586621679103164"><span class="annot"><span class="annottext">toJSON :: NetworkTopologyP2P -&gt; Value
</span><a href="#local-6989586621679103164"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span id="local-6989586621679103166"><span class="annot"><span class="annottext">NetworkTopologyP2P
</span><a href="#local-6989586621679103166"><span class="hs-identifier hs-var">top</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-179"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;localRoots&quot;</span></span><span>         </span><span class="annot"><span class="annottext">Key -&gt; LocalRootPeersGroups -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; LocalRootPeersGroups
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntLocalRootPeersGroups"><span class="hs-identifier hs-var">ntLocalRootPeersGroups</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P
</span><a href="#local-6989586621679103166"><span class="hs-identifier hs-var">top</span></a></span><span>
</span><span id="line-180"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;publicRoots&quot;</span></span><span>        </span><span class="annot"><span class="annottext">Key -&gt; [PublicRootPeers] -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; [PublicRootPeers]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntPublicRootPeers"><span class="hs-identifier hs-var">ntPublicRootPeers</span></a></span><span>      </span><span class="annot"><span class="annottext">NetworkTopologyP2P
</span><a href="#local-6989586621679103166"><span class="hs-identifier hs-var">top</span></a></span><span>
</span><span id="line-181"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;useLedgerAfterSlot&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; UseLedgerPeers -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseLedgerPeers"><span class="hs-identifier hs-var">ntUseLedgerPeers</span></a></span><span>       </span><span class="annot"><span class="annottext">NetworkTopologyP2P
</span><a href="#local-6989586621679103166"><span class="hs-identifier hs-var">top</span></a></span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;bootstrapPeers&quot;</span></span><span>     </span><span class="annot"><span class="annottext">Key -&gt; UseBootstrapPeers -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">NetworkTopologyP2P -&gt; UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#ntUseBootstrapPeers"><span class="hs-identifier hs-var">ntUseBootstrapPeers</span></a></span><span>    </span><span class="annot"><span class="annottext">NetworkTopologyP2P
</span><a href="#local-6989586621679103166"><span class="hs-identifier hs-var">top</span></a></span><span>
</span><span id="line-183"></span><span class="hs-comment">{- TODO:
    , &quot;peerSnapshotFile&quot;   Aeson..= ntPeerSnapshotPath     top
-}</span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Node/Configuration/TopologyP2P.hs#L87</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-comment">-- | Each root peer consists of a list of access points and a shared</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- 'PeerAdvertise' field.</span><span>
</span><span id="line-192"></span><span class="hs-comment">--</span><span>
</span><span id="line-193"></span><span class="hs-keyword">data</span><span> </span><span id="RootConfig"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-var">RootConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RootConfig"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-var">RootConfig</span></a></span></span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="rootAccessPoints"><span class="annot"><span class="annottext">RootConfig -&gt; [RelayAccessPoint]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAccessPoints"><span class="hs-identifier hs-var hs-var">rootAccessPoints</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-type">RelayAccessPoint</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-195"></span><span>    </span><span class="hs-comment">-- ^ a list of relay access points, each of which is either an ip address</span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-comment">-- or domain name and a port number.</span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="rootAdvertise"><span class="annot"><span class="annottext">RootConfig -&gt; PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAdvertise"><span class="hs-identifier hs-var hs-var">rootAdvertise</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerAdvertise"><span class="hs-identifier hs-type">PeerAdvertise</span></a></span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-comment">-- ^ 'advertise' configures whether the root should be advertised through</span><span>
</span><span id="line-199"></span><span>    </span><span class="hs-comment">-- peer sharing.</span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103170"><span id="local-6989586621679103176"><span class="annot"><span class="annottext">RootConfig -&gt; RootConfig -&gt; Bool
(RootConfig -&gt; RootConfig -&gt; Bool)
-&gt; (RootConfig -&gt; RootConfig -&gt; Bool) -&gt; Eq RootConfig
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: RootConfig -&gt; RootConfig -&gt; Bool
== :: RootConfig -&gt; RootConfig -&gt; Bool
$c/= :: RootConfig -&gt; RootConfig -&gt; Bool
/= :: RootConfig -&gt; RootConfig -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103181"><span id="local-6989586621679103188"><span id="local-6989586621679103192"><span class="annot"><span class="annottext">Int -&gt; RootConfig -&gt; ShowS
[RootConfig] -&gt; ShowS
RootConfig -&gt; String
(Int -&gt; RootConfig -&gt; ShowS)
-&gt; (RootConfig -&gt; String)
-&gt; ([RootConfig] -&gt; ShowS)
-&gt; Show RootConfig
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; RootConfig -&gt; ShowS
showsPrec :: Int -&gt; RootConfig -&gt; ShowS
$cshow :: RootConfig -&gt; String
show :: RootConfig -&gt; String
$cshowList :: [RootConfig] -&gt; ShowS
showList :: [RootConfig] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103197"><span id="local-6989586621679103201"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-type">RootConfig</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-203"></span><span>  </span><span id="local-6989586621679103212"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser RootConfig
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser RootConfig) -&gt; Value -&gt; Parser RootConfig
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;RootConfig&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser RootConfig) -&gt; Value -&gt; Parser RootConfig)
-&gt; (Object -&gt; Parser RootConfig) -&gt; Value -&gt; Parser RootConfig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679103213"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103213"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RelayAccessPoint] -&gt; PeerAdvertise -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-var">RootConfig</span></a></span><span>
</span><span id="line-204"></span><span>    </span><span class="annot"><span class="annottext">([RelayAccessPoint] -&gt; PeerAdvertise -&gt; RootConfig)
-&gt; Parser [RelayAccessPoint]
-&gt; Parser (PeerAdvertise -&gt; RootConfig)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103213"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser [RelayAccessPoint]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span>  </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;accessPoints&quot;</span></span><span>
</span><span id="line-205"></span><span>    </span><span class="annot"><span class="annottext">Parser (PeerAdvertise -&gt; RootConfig)
-&gt; Parser PeerAdvertise -&gt; Parser RootConfig
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103213"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe PeerAdvertise)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">Aeson..:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;advertise&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe PeerAdvertise)
-&gt; PeerAdvertise -&gt; Parser PeerAdvertise
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..!=</span></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoNotAdvertisePeer"><span class="hs-identifier hs-var">DoNotAdvertisePeer</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103216"><span id="local-6989586621679103220"><span id="local-6989586621679103223"><span id="local-6989586621679103226"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-type">RootConfig</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>  </span><span id="local-6989586621679103239"><span class="annot"><span class="annottext">toJSON :: RootConfig -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span id="local-6989586621679103240"><span class="annot"><span class="annottext">RootConfig
</span><a href="#local-6989586621679103240"><span class="hs-identifier hs-var">ra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;accessPoints&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; [RelayAccessPoint] -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; [RelayAccessPoint]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAccessPoints"><span class="hs-identifier hs-var">rootAccessPoints</span></a></span><span> </span><span class="annot"><span class="annottext">RootConfig
</span><a href="#local-6989586621679103240"><span class="hs-identifier hs-var">ra</span></a></span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;advertise&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Key -&gt; PeerAdvertise -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAdvertise"><span class="hs-identifier hs-var">rootAdvertise</span></a></span><span> </span><span class="annot"><span class="annottext">RootConfig
</span><a href="#local-6989586621679103240"><span class="hs-identifier hs-var">ra</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-comment">-- Replaced `HotValency` and `WarmValency` with `Valency`.</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Node/Configuration/TopologyP2P.hs#L125</span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-comment">-- | A local root peers group.  Local roots are treated by the outbound</span><span>
</span><span id="line-217"></span><span class="hs-comment">-- governor in a special way.  The node will make sure that a node has the</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- requested number ('valency'/'hotValency') of connections to the local root peer group.</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- 'warmValency' value is the value of warm/established connections that the node</span><span>
</span><span id="line-220"></span><span class="hs-comment">-- will attempt to maintain. By default this value will be equal to 'hotValency'.</span><span>
</span><span id="line-221"></span><span class="hs-comment">--</span><span>
</span><span id="line-222"></span><span class="hs-keyword">data</span><span> </span><span id="LocalRootPeersGroup"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-var">LocalRootPeersGroup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LocalRootPeersGroup"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-var">LocalRootPeersGroup</span></a></span></span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="localRoots"><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#localRoots"><span class="hs-identifier hs-var hs-var">localRoots</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-type">RootConfig</span></a></span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="trustable"><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#trustable"><span class="hs-identifier hs-var hs-var">trustable</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerTrustable"><span class="hs-identifier hs-type">PeerTrustable</span></a></span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="valency"><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; Valency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#valency"><span class="hs-identifier hs-var hs-var">valency</span></a></span></span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-type">Valency</span></a></span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-comment">-- ^ 'trustable' configures whether the root should be trusted in fallback</span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-comment">-- state.</span><span>
</span><span id="line-228"></span><span class="hs-comment">{- TODO:
  , rootDiffusionMode :: DiffusionMode
    -- ^ diffusion mode; used for local root peers.
-}</span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103242"><span id="local-6989586621679103249"><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool
(LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool)
-&gt; (LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool)
-&gt; Eq LocalRootPeersGroup
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool
== :: LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool
$c/= :: LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool
/= :: LocalRootPeersGroup -&gt; LocalRootPeersGroup -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103253"><span id="local-6989586621679103261"><span id="local-6989586621679103265"><span class="annot"><span class="annottext">Int -&gt; LocalRootPeersGroup -&gt; ShowS
[LocalRootPeersGroup] -&gt; ShowS
LocalRootPeersGroup -&gt; String
(Int -&gt; LocalRootPeersGroup -&gt; ShowS)
-&gt; (LocalRootPeersGroup -&gt; String)
-&gt; ([LocalRootPeersGroup] -&gt; ShowS)
-&gt; Show LocalRootPeersGroup
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; LocalRootPeersGroup -&gt; ShowS
showsPrec :: Int -&gt; LocalRootPeersGroup -&gt; ShowS
$cshow :: LocalRootPeersGroup -&gt; String
show :: LocalRootPeersGroup -&gt; String
$cshowList :: [LocalRootPeersGroup] -&gt; ShowS
showList :: [LocalRootPeersGroup] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-comment">-- | Does not use the 'FromJSON' instance of 'RootConfig', so that</span><span>
</span><span id="line-235"></span><span class="hs-comment">-- 'accessPoints', 'advertise', 'valency' and 'warmValency' fields are attached</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- to the same object.</span><span>
</span><span id="line-237"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103269"><span id="local-6989586621679103273"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-type">LocalRootPeersGroup</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-238"></span><span>  </span><span id="local-6989586621679103285"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser LocalRootPeersGroup
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser LocalRootPeersGroup)
-&gt; Value
-&gt; Parser LocalRootPeersGroup
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LocalRootPeersGroup&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser LocalRootPeersGroup)
 -&gt; Value -&gt; Parser LocalRootPeersGroup)
-&gt; (Object -&gt; Parser LocalRootPeersGroup)
-&gt; Value
-&gt; Parser LocalRootPeersGroup
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679103286"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103286"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><span class="annottext">RootConfig -&gt; PeerTrustable -&gt; Valency -&gt; LocalRootPeersGroup
</span><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-var">LocalRootPeersGroup</span></a></span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><span class="annottext">(RootConfig -&gt; PeerTrustable -&gt; Valency -&gt; LocalRootPeersGroup)
-&gt; Parser RootConfig
-&gt; Parser (PeerTrustable -&gt; Valency -&gt; LocalRootPeersGroup)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser RootConfig
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Object</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103286"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>      </span><span class="annot"><span class="annottext">Parser (PeerTrustable -&gt; Valency -&gt; LocalRootPeersGroup)
-&gt; Parser PeerTrustable -&gt; Parser (Valency -&gt; LocalRootPeersGroup)
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103286"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe PeerTrustable)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">Aeson..:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;trustable&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe PeerTrustable)
-&gt; PeerTrustable -&gt; Parser PeerTrustable
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..!=</span></span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsNotTrustable"><span class="hs-identifier hs-var">IsNotTrustable</span></a></span><span>
</span><span id="line-242"></span><span>      </span><span class="annot"><span class="annottext">Parser (Valency -&gt; LocalRootPeersGroup)
-&gt; Parser Valency -&gt; Parser LocalRootPeersGroup
forall a b. Parser (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103286"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Valency
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span>  </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;valency&quot;</span></span><span>
</span><span id="line-243"></span><span class="hs-comment">{- TODO:
          -- deserialise via NodeDiffusionMode
      &lt;*&gt; (maybe InitiatorAndResponderDiffusionMode getDiffusionMode
            &lt;$&gt; o .:? &quot;diffusionMode&quot;)
-}</span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103291"><span id="local-6989586621679103295"><span id="local-6989586621679103298"><span id="local-6989586621679103301"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-type">LocalRootPeersGroup</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621679103320"><span class="annot"><span class="annottext">toJSON :: LocalRootPeersGroup -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span id="local-6989586621679103321"><span class="annot"><span class="annottext">LocalRootPeersGroup
</span><a href="#local-6989586621679103321"><span class="hs-identifier hs-var">lrpg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-251"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;accessPoints&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Key -&gt; [RelayAccessPoint] -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; [RelayAccessPoint]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAccessPoints"><span class="hs-identifier hs-var">rootAccessPoints</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#localRoots"><span class="hs-identifier hs-var">localRoots</span></a></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup
</span><a href="#local-6989586621679103321"><span class="hs-identifier hs-var">lrpg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;advertise&quot;</span></span><span>     </span><span class="annot"><span class="annottext">Key -&gt; PeerAdvertise -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#rootAdvertise"><span class="hs-identifier hs-var">rootAdvertise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#localRoots"><span class="hs-identifier hs-var">localRoots</span></a></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup
</span><a href="#local-6989586621679103321"><span class="hs-identifier hs-var">lrpg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;trustable&quot;</span></span><span>     </span><span class="annot"><span class="annottext">Key -&gt; PeerTrustable -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#trustable"><span class="hs-identifier hs-var">trustable</span></a></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup
</span><a href="#local-6989586621679103321"><span class="hs-identifier hs-var">lrpg</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;valency&quot;</span></span><span>       </span><span class="annot"><span class="annottext">Key -&gt; Valency -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup -&gt; Valency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#valency"><span class="hs-identifier hs-var">valency</span></a></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroup
</span><a href="#local-6989586621679103321"><span class="hs-identifier hs-var">lrpg</span></a></span><span>
</span><span id="line-255"></span><span class="hs-comment">{- TODO:
      -- serialise via NodeDiffusionMode
    , &quot;diffusionMode&quot; Aeson..= NodeDiffusionMode (rootDiffusionMode lrpg)
-}</span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span class="hs-keyword">newtype</span><span> </span><span id="LocalRootPeersGroups"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-var">LocalRootPeersGroups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LocalRootPeersGroups"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-var">LocalRootPeersGroups</span></a></span></span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="groups"><span class="annot"><span class="annottext">LocalRootPeersGroups -&gt; [LocalRootPeersGroup]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#groups"><span class="hs-identifier hs-var hs-var">groups</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroup"><span class="hs-identifier hs-type">LocalRootPeersGroup</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103323"><span id="local-6989586621679103328"><span class="annot"><span class="annottext">LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool
(LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool)
-&gt; (LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool)
-&gt; Eq LocalRootPeersGroups
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool
== :: LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool
$c/= :: LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool
/= :: LocalRootPeersGroups -&gt; LocalRootPeersGroups -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103333"><span id="local-6989586621679103338"><span id="local-6989586621679103341"><span class="annot"><span class="annottext">Int -&gt; LocalRootPeersGroups -&gt; ShowS
[LocalRootPeersGroups] -&gt; ShowS
LocalRootPeersGroups -&gt; String
(Int -&gt; LocalRootPeersGroups -&gt; ShowS)
-&gt; (LocalRootPeersGroups -&gt; String)
-&gt; ([LocalRootPeersGroups] -&gt; ShowS)
-&gt; Show LocalRootPeersGroups
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; LocalRootPeersGroups -&gt; ShowS
showsPrec :: Int -&gt; LocalRootPeersGroups -&gt; ShowS
$cshow :: LocalRootPeersGroups -&gt; String
show :: LocalRootPeersGroups -&gt; String
$cshowList :: [LocalRootPeersGroups] -&gt; ShowS
showList :: [LocalRootPeersGroups] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103345"><span id="local-6989586621679103348"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-type">LocalRootPeersGroups</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-266"></span><span>  </span><span id="local-6989586621679103352"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser LocalRootPeersGroups
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([LocalRootPeersGroup] -&gt; LocalRootPeersGroups)
-&gt; Parser [LocalRootPeersGroup] -&gt; Parser LocalRootPeersGroups
forall a b. (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalRootPeersGroup] -&gt; LocalRootPeersGroups
</span><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-var">LocalRootPeersGroups</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser [LocalRootPeersGroup] -&gt; Parser LocalRootPeersGroups)
-&gt; (Value -&gt; Parser [LocalRootPeersGroup])
-&gt; Value
-&gt; Parser LocalRootPeersGroups
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser [LocalRootPeersGroup]
forall a. FromJSON a =&gt; Value -&gt; Parser [a]
</span><span class="hs-identifier hs-var">Aeson.parseJSONList</span></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103356"><span id="local-6989586621679103359"><span id="local-6989586621679103362"><span id="local-6989586621679103365"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#LocalRootPeersGroups"><span class="hs-identifier hs-type">LocalRootPeersGroups</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-269"></span><span>  </span><span id="local-6989586621679103368"><span class="annot"><span class="annottext">toJSON :: LocalRootPeersGroups -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LocalRootPeersGroup] -&gt; Value
forall a. ToJSON a =&gt; [a] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSONList</span></span><span> </span><span class="annot"><span class="annottext">([LocalRootPeersGroup] -&gt; Value)
-&gt; (LocalRootPeersGroups -&gt; [LocalRootPeersGroup])
-&gt; LocalRootPeersGroups
-&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LocalRootPeersGroups -&gt; [LocalRootPeersGroup]
</span><a href="Cardano.Benchmarking.Topology.Projection.html#groups"><span class="hs-identifier hs-var">groups</span></a></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="hs-keyword">newtype</span><span> </span><span id="PublicRootPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-var">PublicRootPeers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PublicRootPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-var">PublicRootPeers</span></a></span></span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="publicRoots"><span class="annot"><span class="annottext">PublicRootPeers -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#publicRoots"><span class="hs-identifier hs-var hs-var">publicRoots</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RootConfig"><span class="hs-identifier hs-type">RootConfig</span></a></span><span>
</span><span id="line-273"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103373"><span id="local-6989586621679103377"><span class="annot"><span class="annottext">PublicRootPeers -&gt; PublicRootPeers -&gt; Bool
(PublicRootPeers -&gt; PublicRootPeers -&gt; Bool)
-&gt; (PublicRootPeers -&gt; PublicRootPeers -&gt; Bool)
-&gt; Eq PublicRootPeers
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: PublicRootPeers -&gt; PublicRootPeers -&gt; Bool
== :: PublicRootPeers -&gt; PublicRootPeers -&gt; Bool
$c/= :: PublicRootPeers -&gt; PublicRootPeers -&gt; Bool
/= :: PublicRootPeers -&gt; PublicRootPeers -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103381"><span id="local-6989586621679103385"><span id="local-6989586621679103388"><span class="annot"><span class="annottext">Int -&gt; PublicRootPeers -&gt; ShowS
[PublicRootPeers] -&gt; ShowS
PublicRootPeers -&gt; String
(Int -&gt; PublicRootPeers -&gt; ShowS)
-&gt; (PublicRootPeers -&gt; String)
-&gt; ([PublicRootPeers] -&gt; ShowS)
-&gt; Show PublicRootPeers
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PublicRootPeers -&gt; ShowS
showsPrec :: Int -&gt; PublicRootPeers -&gt; ShowS
$cshow :: PublicRootPeers -&gt; String
show :: PublicRootPeers -&gt; String
$cshowList :: [PublicRootPeers] -&gt; ShowS
showList :: [PublicRootPeers] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103392"><span id="local-6989586621679103395"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-type">PublicRootPeers</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-276"></span><span>  </span><span id="local-6989586621679103399"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser PublicRootPeers
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RootConfig -&gt; PublicRootPeers)
-&gt; Parser RootConfig -&gt; Parser PublicRootPeers
forall a b. (a -&gt; b) -&gt; Parser a -&gt; Parser b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; PublicRootPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-var">PublicRootPeers</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser RootConfig -&gt; Parser PublicRootPeers)
-&gt; (Value -&gt; Parser RootConfig) -&gt; Value -&gt; Parser PublicRootPeers
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser RootConfig
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103402"><span id="local-6989586621679103405"><span id="local-6989586621679103408"><span id="local-6989586621679103411"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PublicRootPeers"><span class="hs-identifier hs-type">PublicRootPeers</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-279"></span><span>  </span><span id="local-6989586621679103414"><span class="annot"><span class="annottext">toJSON :: PublicRootPeers -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RootConfig -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">(RootConfig -&gt; Value)
-&gt; (PublicRootPeers -&gt; RootConfig) -&gt; PublicRootPeers -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PublicRootPeers -&gt; RootConfig
</span><a href="Cardano.Benchmarking.Topology.Projection.html#publicRoots"><span class="hs-identifier hs-var">publicRoots</span></a></span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span class="hs-comment">------------------------------------------------------</span><span>
</span><span id="line-282"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.RelayAccessPoint --</span><span>
</span><span id="line-283"></span><span class="hs-comment">------------------------------------------------------</span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Ouroboros/Network/PeerSelection/RelayAccessPoint.hs#L58</span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-keyword">data</span><span> </span><span id="RelayAccessPoint"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-var">RelayAccessPoint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-288"></span><span>    </span><span id="RelayAccessDomain"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessDomain"><span class="hs-identifier hs-var">RelayAccessDomain</span></a></span></span><span>  </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">DNS.Domain</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/rm9wgn8mhzbzwnyfgfzbckcc2pln5y8m-network-lib-network-3.2.8.0-haddock-doc/share/doc/network/html/src/Network.Socket.Types.html#PortNumber"><span class="hs-identifier hs-type">Socket.PortNumber</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RelayAccessAddress"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessAddress"><span class="hs-identifier hs-var">RelayAccessAddress</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/qw6dszy1m9y853pk8yx750jm30kf9890-iproute-lib-iproute-1.7.15-haddock-doc/share/doc/iproute/html/src/Data.IP.Addr.html#IP"><span class="hs-identifier hs-type">IP.IP</span></a></span><span>      </span><span class="hs-glyph">!</span><span class="annot"><a href="file:///nix/store/rm9wgn8mhzbzwnyfgfzbckcc2pln5y8m-network-lib-network-3.2.8.0-haddock-doc/share/doc/network/html/src/Network.Socket.Types.html#PortNumber"><span class="hs-identifier hs-type">Socket.PortNumber</span></a></span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103417"><span id="local-6989586621679103426"><span class="annot"><span class="annottext">RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
(RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; Eq RelayAccessPoint
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
== :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
$c/= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
/= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103431"><span id="local-6989586621679103440"><span id="local-6989586621679103446"><span id="local-6989586621679103450"><span id="local-6989586621679103453"><span id="local-6989586621679103456"><span id="local-6989586621679103459"><span class="annot"><span class="annottext">Eq RelayAccessPoint
Eq RelayAccessPoint =&gt;
(RelayAccessPoint -&gt; RelayAccessPoint -&gt; Ordering)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint)
-&gt; (RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint)
-&gt; Ord RelayAccessPoint
RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
RelayAccessPoint -&gt; RelayAccessPoint -&gt; Ordering
RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Ordering
compare :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Ordering
$c&lt; :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
&lt; :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
$c&lt;= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
&lt;= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
$c&gt; :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
&gt; :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
$c&gt;= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
&gt;= :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; Bool
$cmax :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint
max :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint
$cmin :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint
min :: RelayAccessPoint -&gt; RelayAccessPoint -&gt; RelayAccessPoint
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103463"><span id="local-6989586621679103474"><span id="local-6989586621679103477"><span class="annot"><span class="annottext">Int -&gt; RelayAccessPoint -&gt; ShowS
[RelayAccessPoint] -&gt; ShowS
RelayAccessPoint -&gt; String
(Int -&gt; RelayAccessPoint -&gt; ShowS)
-&gt; (RelayAccessPoint -&gt; String)
-&gt; ([RelayAccessPoint] -&gt; ShowS)
-&gt; Show RelayAccessPoint
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; RelayAccessPoint -&gt; ShowS
showsPrec :: Int -&gt; RelayAccessPoint -&gt; ShowS
$cshow :: RelayAccessPoint -&gt; String
show :: RelayAccessPoint -&gt; String
$cshowList :: [RelayAccessPoint] -&gt; ShowS
showList :: [RelayAccessPoint] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Ouroboros/Network/PeerSelection/RelayAccessPoint.hs#L142</span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103481"><span id="local-6989586621679103484"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-type">RelayAccessPoint</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-295"></span><span>  </span><span id="local-6989586621679103496"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser RelayAccessPoint
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser RelayAccessPoint)
-&gt; Value
-&gt; Parser RelayAccessPoint
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;RelayAccessPoint&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser RelayAccessPoint)
 -&gt; Value -&gt; Parser RelayAccessPoint)
-&gt; (Object -&gt; Parser RelayAccessPoint)
-&gt; Value
-&gt; Parser RelayAccessPoint
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679103497"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103497"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-296"></span><span>    </span><span id="local-6989586621679103498"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679103498"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103497"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;address&quot;</span></span><span>
</span><span id="line-297"></span><span>    </span><span id="local-6989586621679103499"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103499"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679103497"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Int
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">Aeson..:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;port&quot;</span></span><span>
</span><span id="line-298"></span><span>    </span><span class="annot"><span class="annottext">RelayAccessPoint -&gt; Parser RelayAccessPoint
forall a. a -&gt; Parser a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Int -&gt; RelayAccessPoint
</span><a href="Cardano.Benchmarking.Topology.Projection.html#toRelayAccessPoint"><span class="hs-identifier hs-var">toRelayAccessPoint</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679103498"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103499"><span class="hs-identifier hs-var">port</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103503"><span id="local-6989586621679103506"><span id="local-6989586621679103509"><span id="local-6989586621679103512"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-type">RelayAccessPoint</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-301"></span><span>  </span><span id="local-6989586621679103536"><span class="annot"><span class="annottext">toJSON :: RelayAccessPoint -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessDomain"><span class="hs-identifier hs-type">RelayAccessDomain</span></a></span><span> </span><span id="local-6989586621679103537"><span class="annot"><span class="annottext">Domain
</span><a href="#local-6989586621679103537"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621679103538"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679103538"><span class="hs-identifier hs-var">port</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-302"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;address&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Text -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">Domain -&gt; Text
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Encoding.html#decodeUtf8"><span class="hs-identifier hs-var">TextEncoding.decodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">Domain
</span><a href="#local-6989586621679103537"><span class="hs-identifier hs-var">addr</span></a></span><span>
</span><span id="line-303"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;port&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PortNumber -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679103538"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-305"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessAddress"><span class="hs-identifier hs-type">RelayAccessAddress</span></a></span><span> </span><span id="local-6989586621679103540"><span class="annot"><span class="annottext">IP
</span><a href="#local-6989586621679103540"><span class="hs-identifier hs-var">ip</span></a></span></span><span> </span><span id="local-6989586621679103541"><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679103541"><span class="hs-identifier hs-var">port</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.object</span></span><span>
</span><span id="line-306"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;address&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Text -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IP -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">IP
</span><a href="#local-6989586621679103540"><span class="hs-identifier hs-var">ip</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;port&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Pair
forall v. ToJSON v =&gt; Key -&gt; v -&gt; Pair
forall e kv v. (KeyValue e kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">Aeson..=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PortNumber -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">PortNumber
</span><a href="#local-6989586621679103541"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span class="hs-comment">-- | Parse a address field as either an IP address or a DNS address.</span><span>
</span><span id="line-311"></span><span class="hs-comment">-- Returns corresponding RelayAccessPoint.</span><span>
</span><span id="line-312"></span><span class="hs-comment">--</span><span>
</span><span id="line-313"></span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#toRelayAccessPoint"><span class="hs-identifier hs-type">toRelayAccessPoint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text.Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-type">RelayAccessPoint</span></a></span><span>
</span><span id="line-314"></span><span id="toRelayAccessPoint"><span class="annot"><span class="annottext">toRelayAccessPoint :: Text -&gt; Int -&gt; RelayAccessPoint
</span><a href="Cardano.Benchmarking.Topology.Projection.html#toRelayAccessPoint"><span class="hs-identifier hs-var hs-var">toRelayAccessPoint</span></a></span></span><span> </span><span id="local-6989586621679103544"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679103544"><span class="hs-identifier hs-var">address</span></a></span></span><span> </span><span id="local-6989586621679103545"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103545"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe IP
forall a. Read a =&gt; String -&gt; Maybe a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Text.Read.html#readMaybe"><span class="hs-identifier hs-var">readMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679103544"><span class="hs-identifier hs-var">address</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-316"></span><span>      </span><span class="annot"><span class="annottext">Maybe IP
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Domain -&gt; PortNumber -&gt; RelayAccessPoint
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessDomain"><span class="hs-identifier hs-var">RelayAccessDomain</span></a></span><span>
</span><span id="line-317"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Domain
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Encoding.html#encodeUtf8"><span class="hs-identifier hs-var">TextEncoding.encodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679103544"><span class="hs-identifier hs-var">address</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; PortNumber
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103545"><span class="hs-identifier hs-var">port</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>      </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679103548"><span class="annot"><span class="annottext">IP
</span><a href="#local-6989586621679103548"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IP -&gt; PortNumber -&gt; RelayAccessPoint
</span><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessAddress"><span class="hs-identifier hs-var">RelayAccessAddress</span></a></span><span> </span><span class="annot"><span class="annottext">IP
</span><a href="#local-6989586621679103548"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; PortNumber
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103545"><span class="hs-identifier hs-var">port</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-322"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.PeerAdvertise --</span><span>
</span><span id="line-323"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Ouroboros/Network/PeerSelection/PeerAdvertise.hs#L13</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span class="hs-comment">-- | Should this peer be advertised to other peers asking for known peers?</span><span>
</span><span id="line-328"></span><span class="hs-comment">-- For certain peers specified by configuration it would be an appropriate</span><span>
</span><span id="line-329"></span><span class="hs-comment">-- policy to keep them private.</span><span>
</span><span id="line-330"></span><span class="hs-comment">--</span><span>
</span><span id="line-331"></span><span class="hs-keyword">data</span><span> </span><span id="PeerAdvertise"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerAdvertise"><span class="hs-identifier hs-var">PeerAdvertise</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-332"></span><span>    </span><span id="DoNotAdvertisePeer"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#DoNotAdvertisePeer"><span class="hs-identifier hs-var">DoNotAdvertisePeer</span></a></span></span><span>
</span><span id="line-333"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DoAdvertisePeer"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#DoAdvertisePeer"><span class="hs-identifier hs-var">DoAdvertisePeer</span></a></span></span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103551"><span id="local-6989586621679103553"><span class="annot"><span class="annottext">PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
(PeerAdvertise -&gt; PeerAdvertise -&gt; Bool)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; Bool) -&gt; Eq PeerAdvertise
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
== :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
$c/= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
/= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103556"><span id="local-6989586621679103558"><span id="local-6989586621679103561"><span class="annot"><span class="annottext">Int -&gt; PeerAdvertise -&gt; ShowS
[PeerAdvertise] -&gt; ShowS
PeerAdvertise -&gt; String
(Int -&gt; PeerAdvertise -&gt; ShowS)
-&gt; (PeerAdvertise -&gt; String)
-&gt; ([PeerAdvertise] -&gt; ShowS)
-&gt; Show PeerAdvertise
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PeerAdvertise -&gt; ShowS
showsPrec :: Int -&gt; PeerAdvertise -&gt; ShowS
$cshow :: PeerAdvertise -&gt; String
show :: PeerAdvertise -&gt; String
$cshowList :: [PeerAdvertise] -&gt; ShowS
showList :: [PeerAdvertise] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103566"><span id="local-6989586621679103568"><span id="local-6989586621679103570"><span id="local-6989586621679103574"><span id="local-6989586621679103577"><span id="local-6989586621679103580"><span id="local-6989586621679103583"><span class="annot"><span class="annottext">Eq PeerAdvertise
Eq PeerAdvertise =&gt;
(PeerAdvertise -&gt; PeerAdvertise -&gt; Ordering)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; Bool)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; Bool)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; Bool)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; Bool)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise)
-&gt; (PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise)
-&gt; Ord PeerAdvertise
PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
PeerAdvertise -&gt; PeerAdvertise -&gt; Ordering
PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: PeerAdvertise -&gt; PeerAdvertise -&gt; Ordering
compare :: PeerAdvertise -&gt; PeerAdvertise -&gt; Ordering
$c&lt; :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
&lt; :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
$c&lt;= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
&lt;= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
$c&gt; :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
&gt; :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
$c&gt;= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
&gt;= :: PeerAdvertise -&gt; PeerAdvertise -&gt; Bool
$cmax :: PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise
max :: PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise
$cmin :: PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise
min :: PeerAdvertise -&gt; PeerAdvertise -&gt; PeerAdvertise
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103587"><span id="local-6989586621679103590"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerAdvertise"><span class="hs-identifier hs-type">PeerAdvertise</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-337"></span><span>  </span><span id="local-6989586621679103593"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser PeerAdvertise
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Bool -&gt; Parser PeerAdvertise) -&gt; Value -&gt; Parser PeerAdvertise
forall a. String -&gt; (Bool -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withBool</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PeerAdvertise&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; Parser PeerAdvertise) -&gt; Value -&gt; Parser PeerAdvertise)
-&gt; (Bool -&gt; Parser PeerAdvertise) -&gt; Value -&gt; Parser PeerAdvertise
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-338"></span><span>      </span><span class="annot"><span class="annottext">PeerAdvertise -&gt; Parser PeerAdvertise
forall a. a -&gt; Parser a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(PeerAdvertise -&gt; Parser PeerAdvertise)
-&gt; (Bool -&gt; PeerAdvertise) -&gt; Bool -&gt; Parser PeerAdvertise
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise -&gt; PeerAdvertise -&gt; Bool -&gt; PeerAdvertise
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Bool.html#bool"><span class="hs-identifier hs-var">bool</span></a></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoNotAdvertisePeer"><span class="hs-identifier hs-var">DoNotAdvertisePeer</span></a></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoAdvertisePeer"><span class="hs-identifier hs-var">DoAdvertisePeer</span></a></span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103597"><span id="local-6989586621679103600"><span id="local-6989586621679103603"><span id="local-6989586621679103606"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerAdvertise"><span class="hs-identifier hs-type">PeerAdvertise</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-341"></span><span>  </span><span id="local-6989586621679103608"><span class="annot"><span class="annottext">toJSON :: PeerAdvertise -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoAdvertisePeer"><span class="hs-identifier hs-var">DoAdvertisePeer</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Bool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-342"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">PeerAdvertise
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DoNotAdvertisePeer"><span class="hs-identifier hs-var">DoNotAdvertisePeer</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Bool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="hs-comment">------------------------------------------------------</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.LedgerPeers.Type --</span><span>
</span><span id="line-346"></span><span class="hs-comment">------------------------------------------------------</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Ouroboros/Network/PeerSelection/LedgerPeers/Type.hs#L178</span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span class="annot"><span class="hs-comment">-- | Only use the ledger after the given slot number.</span></span><span>
</span><span id="line-351"></span><span class="hs-keyword">data</span><span> </span><span id="UseLedgerPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-var">UseLedgerPeers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-352"></span><span>    </span><span id="DontUseLedgerPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseLedgerPeers"><span class="hs-identifier hs-var">DontUseLedgerPeers</span></a></span></span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="UseLedgerPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-var">UseLedgerPeers</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#AfterSlot"><span class="hs-identifier hs-type">AfterSlot</span></a></span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103612"><span id="local-6989586621679103616"><span class="annot"><span class="annottext">UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool
(UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool)
-&gt; (UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool) -&gt; Eq UseLedgerPeers
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool
== :: UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool
$c/= :: UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool
/= :: UseLedgerPeers -&gt; UseLedgerPeers -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103619"><span id="local-6989586621679103624"><span id="local-6989586621679103627"><span class="annot"><span class="annottext">Int -&gt; UseLedgerPeers -&gt; ShowS
[UseLedgerPeers] -&gt; ShowS
UseLedgerPeers -&gt; String
(Int -&gt; UseLedgerPeers -&gt; ShowS)
-&gt; (UseLedgerPeers -&gt; String)
-&gt; ([UseLedgerPeers] -&gt; ShowS)
-&gt; Show UseLedgerPeers
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; UseLedgerPeers -&gt; ShowS
showsPrec :: Int -&gt; UseLedgerPeers -&gt; ShowS
$cshow :: UseLedgerPeers -&gt; String
show :: UseLedgerPeers -&gt; String
$cshowList :: [UseLedgerPeers] -&gt; ShowS
showList :: [UseLedgerPeers] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103630"><span id="local-6989586621679103632"><span class="annot"><span class="annottext">(forall x. UseLedgerPeers -&gt; Rep UseLedgerPeers x)
-&gt; (forall x. Rep UseLedgerPeers x -&gt; UseLedgerPeers)
-&gt; Generic UseLedgerPeers
forall x. Rep UseLedgerPeers x -&gt; UseLedgerPeers
forall x. UseLedgerPeers -&gt; Rep UseLedgerPeers x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. UseLedgerPeers -&gt; Rep UseLedgerPeers x
from :: forall x. UseLedgerPeers -&gt; Rep UseLedgerPeers x
$cto :: forall x. Rep UseLedgerPeers x -&gt; UseLedgerPeers
to :: forall x. Rep UseLedgerPeers x -&gt; UseLedgerPeers
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="annot"><span class="hs-comment">-- | Only use the ledger after the given slot number.</span></span><span>
</span><span id="line-357"></span><span class="hs-keyword">data</span><span> </span><span id="AfterSlot"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#AfterSlot"><span class="hs-identifier hs-var">AfterSlot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-358"></span><span>    </span><span id="Always"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Always"><span class="hs-identifier hs-var">Always</span></a></span></span><span>
</span><span id="line-359"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="After"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#After"><span class="hs-identifier hs-var">After</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-360"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103638"><span id="local-6989586621679103642"><span class="annot"><span class="annottext">AfterSlot -&gt; AfterSlot -&gt; Bool
(AfterSlot -&gt; AfterSlot -&gt; Bool)
-&gt; (AfterSlot -&gt; AfterSlot -&gt; Bool) -&gt; Eq AfterSlot
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: AfterSlot -&gt; AfterSlot -&gt; Bool
== :: AfterSlot -&gt; AfterSlot -&gt; Bool
$c/= :: AfterSlot -&gt; AfterSlot -&gt; Bool
/= :: AfterSlot -&gt; AfterSlot -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103645"><span id="local-6989586621679103650"><span id="local-6989586621679103653"><span class="annot"><span class="annottext">Int -&gt; AfterSlot -&gt; ShowS
[AfterSlot] -&gt; ShowS
AfterSlot -&gt; String
(Int -&gt; AfterSlot -&gt; ShowS)
-&gt; (AfterSlot -&gt; String)
-&gt; ([AfterSlot] -&gt; ShowS)
-&gt; Show AfterSlot
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; AfterSlot -&gt; ShowS
showsPrec :: Int -&gt; AfterSlot -&gt; ShowS
$cshow :: AfterSlot -&gt; String
show :: AfterSlot -&gt; String
$cshowList :: [AfterSlot] -&gt; ShowS
showList :: [AfterSlot] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span class="hs-comment">-- `FromJSON`/`ToJSON` from &quot;Cardano.Tracing.OrphanInstances.Network&quot;.</span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Tracing/OrphanInstances/Network.hs#L2784</span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103657"><span id="local-6989586621679103660"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-type">UseLedgerPeers</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-367"></span><span>  </span><span id="local-6989586621679103682"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser UseLedgerPeers
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Aeson.Number</span></span><span> </span><span id="local-6989586621679103684"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679103684"><span class="hs-identifier hs-var">slot</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UseLedgerPeers -&gt; Parser UseLedgerPeers
forall a. a -&gt; Parser a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(UseLedgerPeers -&gt; Parser UseLedgerPeers)
-&gt; UseLedgerPeers -&gt; Parser UseLedgerPeers
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-368"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Scientific -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#compare"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679103684"><span class="hs-identifier hs-var">slot</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-369"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#GT"><span class="hs-identifier hs-var">GT</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AfterSlot -&gt; UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-var">UseLedgerPeers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SlotNo -&gt; AfterSlot
</span><a href="Cardano.Benchmarking.Topology.Projection.html#After"><span class="hs-identifier hs-var">After</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; SlotNo
</span><a href="Cardano.Benchmarking.Topology.Projection.html#SlotNo"><span class="hs-identifier hs-var">SlotNo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scientific -&gt; Word64
forall b. Integral b =&gt; Scientific -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#floor"><span class="hs-identifier hs-var">floor</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679103684"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#EQ"><span class="hs-identifier hs-var">EQ</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AfterSlot -&gt; UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-var">UseLedgerPeers</span></a></span><span> </span><span class="annot"><span class="annottext">AfterSlot
</span><a href="Cardano.Benchmarking.Topology.Projection.html#Always"><span class="hs-identifier hs-var">Always</span></a></span><span>
</span><span id="line-371"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#LT"><span class="hs-identifier hs-var">LT</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseLedgerPeers"><span class="hs-identifier hs-var">DontUseLedgerPeers</span></a></span><span>
</span><span id="line-372"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span id="local-6989586621679103688"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679103688"><span class="hs-identifier hs-var">invalid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser UseLedgerPeers
forall a. String -&gt; Parser a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser UseLedgerPeers)
-&gt; String -&gt; Parser UseLedgerPeers
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Parsing of slot number failed due to type mismatch. &quot;</span></span><span>
</span><span id="line-373"></span><span>                            </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Encountered: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679103688"><span class="hs-identifier hs-var">invalid</span></a></span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Tracing/OrphanInstances/Network.hs#L2811</span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103691"><span id="local-6989586621679103694"><span id="local-6989586621679103697"><span id="local-6989586621679103700"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-type">UseLedgerPeers</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-378"></span><span>  </span><span id="local-6989586621679103707"><span class="annot"><span class="annottext">toJSON :: UseLedgerPeers -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="annot"><span class="annottext">UseLedgerPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseLedgerPeers"><span class="hs-identifier hs-var">DontUseLedgerPeers</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Scientific
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-type">UseLedgerPeers</span></a></span><span> </span><span class="annot"><span class="annottext">AfterSlot
</span><a href="Cardano.Benchmarking.Topology.Projection.html#Always"><span class="hs-identifier hs-var">Always</span></a></span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><span class="hs-number">0</span></span><span>
</span><span id="line-380"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseLedgerPeers"><span class="hs-identifier hs-type">UseLedgerPeers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#After"><span class="hs-identifier hs-type">After</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#SlotNo"><span class="hs-identifier hs-type">SlotNo</span></a></span><span> </span><span id="local-6989586621679103708"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679103708"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Number</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Scientific
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679103708"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="hs-comment">---------------------------</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- Cardano.Slotting.Slot --</span><span>
</span><span id="line-384"></span><span class="hs-comment">---------------------------</span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span class="annot"><span class="hs-comment">-- | The 0-based index for the Ourboros time slot.</span></span><span>
</span><span id="line-387"></span><span class="hs-keyword">newtype</span><span> </span><span id="SlotNo"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#SlotNo"><span class="hs-identifier hs-var">SlotNo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SlotNo"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#SlotNo"><span class="hs-identifier hs-var">SlotNo</span></a></span></span><span> </span><span class="hs-special">{</span><span id="unSlotNo"><span class="annot"><span class="annottext">SlotNo -&gt; Word64
</span><a href="Cardano.Benchmarking.Topology.Projection.html#unSlotNo"><span class="hs-identifier hs-var hs-var">unSlotNo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103711"><span id="local-6989586621679103716"><span class="annot"><span class="annottext">SlotNo -&gt; SlotNo -&gt; Bool
(SlotNo -&gt; SlotNo -&gt; Bool)
-&gt; (SlotNo -&gt; SlotNo -&gt; Bool) -&gt; Eq SlotNo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: SlotNo -&gt; SlotNo -&gt; Bool
== :: SlotNo -&gt; SlotNo -&gt; Bool
$c/= :: SlotNo -&gt; SlotNo -&gt; Bool
/= :: SlotNo -&gt; SlotNo -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103722"><span id="local-6989586621679103727"><span id="local-6989586621679103731"><span id="local-6989586621679103735"><span id="local-6989586621679103739"><span id="local-6989586621679103743"><span id="local-6989586621679103747"><span class="annot"><span class="annottext">Eq SlotNo
Eq SlotNo =&gt;
(SlotNo -&gt; SlotNo -&gt; Ordering)
-&gt; (SlotNo -&gt; SlotNo -&gt; Bool)
-&gt; (SlotNo -&gt; SlotNo -&gt; Bool)
-&gt; (SlotNo -&gt; SlotNo -&gt; Bool)
-&gt; (SlotNo -&gt; SlotNo -&gt; Bool)
-&gt; (SlotNo -&gt; SlotNo -&gt; SlotNo)
-&gt; (SlotNo -&gt; SlotNo -&gt; SlotNo)
-&gt; Ord SlotNo
SlotNo -&gt; SlotNo -&gt; Bool
SlotNo -&gt; SlotNo -&gt; Ordering
SlotNo -&gt; SlotNo -&gt; SlotNo
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: SlotNo -&gt; SlotNo -&gt; Ordering
compare :: SlotNo -&gt; SlotNo -&gt; Ordering
$c&lt; :: SlotNo -&gt; SlotNo -&gt; Bool
&lt; :: SlotNo -&gt; SlotNo -&gt; Bool
$c&lt;= :: SlotNo -&gt; SlotNo -&gt; Bool
&lt;= :: SlotNo -&gt; SlotNo -&gt; Bool
$c&gt; :: SlotNo -&gt; SlotNo -&gt; Bool
&gt; :: SlotNo -&gt; SlotNo -&gt; Bool
$c&gt;= :: SlotNo -&gt; SlotNo -&gt; Bool
&gt;= :: SlotNo -&gt; SlotNo -&gt; Bool
$cmax :: SlotNo -&gt; SlotNo -&gt; SlotNo
max :: SlotNo -&gt; SlotNo -&gt; SlotNo
$cmin :: SlotNo -&gt; SlotNo -&gt; SlotNo
min :: SlotNo -&gt; SlotNo -&gt; SlotNo
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103752"><span id="local-6989586621679103757"><span id="local-6989586621679103760"><span class="annot"><span class="annottext">Int -&gt; SlotNo -&gt; ShowS
[SlotNo] -&gt; ShowS
SlotNo -&gt; String
(Int -&gt; SlotNo -&gt; ShowS)
-&gt; (SlotNo -&gt; String) -&gt; ([SlotNo] -&gt; ShowS) -&gt; Show SlotNo
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; SlotNo -&gt; ShowS
showsPrec :: Int -&gt; SlotNo -&gt; ShowS
$cshow :: SlotNo -&gt; String
show :: SlotNo -&gt; String
$cshowList :: [SlotNo] -&gt; ShowS
showList :: [SlotNo] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="hs-comment">----------------------------------------------------------</span><span>
</span><span id="line-391"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.State.LocalRootPeers --</span><span>
</span><span id="line-392"></span><span class="hs-comment">----------------------------------------------------------</span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="hs-comment">-- Replaced `HotValency` and `WarmValency` with `Valency`.</span><span>
</span><span id="line-395"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network/src/Ouroboros/Network/PeerSelection/State/LocalRootPeers.hs#L80</span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span class="hs-keyword">newtype</span><span> </span><span id="Valency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-var">Valency</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Valency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-var">Valency</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getValency"><span class="annot"><span class="annottext">Valency -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getValency"><span class="hs-identifier hs-var hs-var">getValency</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-398"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103764"><span id="local-6989586621679103769"><span id="local-6989586621679103772"><span class="annot"><span class="annottext">Int -&gt; Valency -&gt; ShowS
[Valency] -&gt; ShowS
Valency -&gt; String
(Int -&gt; Valency -&gt; ShowS)
-&gt; (Valency -&gt; String) -&gt; ([Valency] -&gt; ShowS) -&gt; Show Valency
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Valency -&gt; ShowS
showsPrec :: Int -&gt; Valency -&gt; ShowS
$cshow :: Valency -&gt; String
show :: Valency -&gt; String
$cshowList :: [Valency] -&gt; ShowS
showList :: [Valency] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103775"><span id="local-6989586621679103779"><span class="annot"><span class="annottext">Valency -&gt; Valency -&gt; Bool
(Valency -&gt; Valency -&gt; Bool)
-&gt; (Valency -&gt; Valency -&gt; Bool) -&gt; Eq Valency
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Valency -&gt; Valency -&gt; Bool
== :: Valency -&gt; Valency -&gt; Bool
$c/= :: Valency -&gt; Valency -&gt; Bool
/= :: Valency -&gt; Valency -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103785"><span id="local-6989586621679103789"><span id="local-6989586621679103793"><span id="local-6989586621679103797"><span id="local-6989586621679103801"><span id="local-6989586621679103805"><span id="local-6989586621679103809"><span class="annot"><span class="annottext">Eq Valency
Eq Valency =&gt;
(Valency -&gt; Valency -&gt; Ordering)
-&gt; (Valency -&gt; Valency -&gt; Bool)
-&gt; (Valency -&gt; Valency -&gt; Bool)
-&gt; (Valency -&gt; Valency -&gt; Bool)
-&gt; (Valency -&gt; Valency -&gt; Bool)
-&gt; (Valency -&gt; Valency -&gt; Valency)
-&gt; (Valency -&gt; Valency -&gt; Valency)
-&gt; Ord Valency
Valency -&gt; Valency -&gt; Bool
Valency -&gt; Valency -&gt; Ordering
Valency -&gt; Valency -&gt; Valency
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Valency -&gt; Valency -&gt; Ordering
compare :: Valency -&gt; Valency -&gt; Ordering
$c&lt; :: Valency -&gt; Valency -&gt; Bool
&lt; :: Valency -&gt; Valency -&gt; Bool
$c&lt;= :: Valency -&gt; Valency -&gt; Bool
&lt;= :: Valency -&gt; Valency -&gt; Bool
$c&gt; :: Valency -&gt; Valency -&gt; Bool
&gt; :: Valency -&gt; Valency -&gt; Bool
$c&gt;= :: Valency -&gt; Valency -&gt; Bool
&gt;= :: Valency -&gt; Valency -&gt; Bool
$cmax :: Valency -&gt; Valency -&gt; Valency
max :: Valency -&gt; Valency -&gt; Valency
$cmin :: Valency -&gt; Valency -&gt; Valency
min :: Valency -&gt; Valency -&gt; Valency
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="hs-comment">-- | Newtype wrapper representing hot valency value from local root group</span><span>
</span><span id="line-401"></span><span class="hs-comment">-- configuration</span><span>
</span><span id="line-402"></span><span class="hs-comment">--</span><span>
</span><span id="line-403"></span><span class="hs-keyword">newtype</span><span> </span><span id="HotValency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-var">HotValency</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="HotValency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-var">HotValency</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getHotValency"><span class="annot"><span class="annottext">HotValency -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getHotValency"><span class="hs-identifier hs-var hs-var">getHotValency</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-404"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103816"><span id="local-6989586621679103820"><span id="local-6989586621679103824"><span class="annot"><span class="annottext">Int -&gt; HotValency -&gt; ShowS
[HotValency] -&gt; ShowS
HotValency -&gt; String
(Int -&gt; HotValency -&gt; ShowS)
-&gt; (HotValency -&gt; String)
-&gt; ([HotValency] -&gt; ShowS)
-&gt; Show HotValency
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; HotValency -&gt; ShowS
showsPrec :: Int -&gt; HotValency -&gt; ShowS
$cshow :: HotValency -&gt; String
show :: HotValency -&gt; String
$cshowList :: [HotValency] -&gt; ShowS
showList :: [HotValency] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103827"><span id="local-6989586621679103831"><span class="annot"><span class="annottext">HotValency -&gt; HotValency -&gt; Bool
(HotValency -&gt; HotValency -&gt; Bool)
-&gt; (HotValency -&gt; HotValency -&gt; Bool) -&gt; Eq HotValency
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: HotValency -&gt; HotValency -&gt; Bool
== :: HotValency -&gt; HotValency -&gt; Bool
$c/= :: HotValency -&gt; HotValency -&gt; Bool
/= :: HotValency -&gt; HotValency -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103838"><span id="local-6989586621679103842"><span id="local-6989586621679103846"><span id="local-6989586621679103850"><span id="local-6989586621679103854"><span id="local-6989586621679103858"><span id="local-6989586621679103862"><span class="annot"><span class="annottext">Eq HotValency
Eq HotValency =&gt;
(HotValency -&gt; HotValency -&gt; Ordering)
-&gt; (HotValency -&gt; HotValency -&gt; Bool)
-&gt; (HotValency -&gt; HotValency -&gt; Bool)
-&gt; (HotValency -&gt; HotValency -&gt; Bool)
-&gt; (HotValency -&gt; HotValency -&gt; Bool)
-&gt; (HotValency -&gt; HotValency -&gt; HotValency)
-&gt; (HotValency -&gt; HotValency -&gt; HotValency)
-&gt; Ord HotValency
HotValency -&gt; HotValency -&gt; Bool
HotValency -&gt; HotValency -&gt; Ordering
HotValency -&gt; HotValency -&gt; HotValency
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: HotValency -&gt; HotValency -&gt; Ordering
compare :: HotValency -&gt; HotValency -&gt; Ordering
$c&lt; :: HotValency -&gt; HotValency -&gt; Bool
&lt; :: HotValency -&gt; HotValency -&gt; Bool
$c&lt;= :: HotValency -&gt; HotValency -&gt; Bool
&lt;= :: HotValency -&gt; HotValency -&gt; Bool
$c&gt; :: HotValency -&gt; HotValency -&gt; Bool
&gt; :: HotValency -&gt; HotValency -&gt; Bool
$c&gt;= :: HotValency -&gt; HotValency -&gt; Bool
&gt;= :: HotValency -&gt; HotValency -&gt; Bool
$cmax :: HotValency -&gt; HotValency -&gt; HotValency
max :: HotValency -&gt; HotValency -&gt; HotValency
$cmin :: HotValency -&gt; HotValency -&gt; HotValency
min :: HotValency -&gt; HotValency -&gt; HotValency
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span class="hs-comment">-- | Newtype wrapper representing warm valency value from local root group</span><span>
</span><span id="line-407"></span><span class="hs-comment">-- configuration</span><span>
</span><span id="line-408"></span><span class="hs-comment">--</span><span>
</span><span id="line-409"></span><span class="hs-keyword">newtype</span><span> </span><span id="WarmValency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-var">WarmValency</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WarmValency"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-var">WarmValency</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getWarmValency"><span class="annot"><span class="annottext">WarmValency -&gt; Int
</span><a href="Cardano.Benchmarking.Topology.Projection.html#getWarmValency"><span class="hs-identifier hs-var hs-var">getWarmValency</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-410"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679103869"><span id="local-6989586621679103873"><span id="local-6989586621679103877"><span class="annot"><span class="annottext">Int -&gt; WarmValency -&gt; ShowS
[WarmValency] -&gt; ShowS
WarmValency -&gt; String
(Int -&gt; WarmValency -&gt; ShowS)
-&gt; (WarmValency -&gt; String)
-&gt; ([WarmValency] -&gt; ShowS)
-&gt; Show WarmValency
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; WarmValency -&gt; ShowS
showsPrec :: Int -&gt; WarmValency -&gt; ShowS
$cshow :: WarmValency -&gt; String
show :: WarmValency -&gt; String
$cshowList :: [WarmValency] -&gt; ShowS
showList :: [WarmValency] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103880"><span id="local-6989586621679103884"><span class="annot"><span class="annottext">WarmValency -&gt; WarmValency -&gt; Bool
(WarmValency -&gt; WarmValency -&gt; Bool)
-&gt; (WarmValency -&gt; WarmValency -&gt; Bool) -&gt; Eq WarmValency
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: WarmValency -&gt; WarmValency -&gt; Bool
== :: WarmValency -&gt; WarmValency -&gt; Bool
$c/= :: WarmValency -&gt; WarmValency -&gt; Bool
/= :: WarmValency -&gt; WarmValency -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679103891"><span id="local-6989586621679103895"><span id="local-6989586621679103899"><span id="local-6989586621679103903"><span id="local-6989586621679103907"><span id="local-6989586621679103911"><span id="local-6989586621679103915"><span class="annot"><span class="annottext">Eq WarmValency
Eq WarmValency =&gt;
(WarmValency -&gt; WarmValency -&gt; Ordering)
-&gt; (WarmValency -&gt; WarmValency -&gt; Bool)
-&gt; (WarmValency -&gt; WarmValency -&gt; Bool)
-&gt; (WarmValency -&gt; WarmValency -&gt; Bool)
-&gt; (WarmValency -&gt; WarmValency -&gt; Bool)
-&gt; (WarmValency -&gt; WarmValency -&gt; WarmValency)
-&gt; (WarmValency -&gt; WarmValency -&gt; WarmValency)
-&gt; Ord WarmValency
WarmValency -&gt; WarmValency -&gt; Bool
WarmValency -&gt; WarmValency -&gt; Ordering
WarmValency -&gt; WarmValency -&gt; WarmValency
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: WarmValency -&gt; WarmValency -&gt; Ordering
compare :: WarmValency -&gt; WarmValency -&gt; Ordering
$c&lt; :: WarmValency -&gt; WarmValency -&gt; Bool
&lt; :: WarmValency -&gt; WarmValency -&gt; Bool
$c&lt;= :: WarmValency -&gt; WarmValency -&gt; Bool
&lt;= :: WarmValency -&gt; WarmValency -&gt; Bool
$c&gt; :: WarmValency -&gt; WarmValency -&gt; Bool
&gt; :: WarmValency -&gt; WarmValency -&gt; Bool
$c&gt;= :: WarmValency -&gt; WarmValency -&gt; Bool
&gt;= :: WarmValency -&gt; WarmValency -&gt; Bool
$cmax :: WarmValency -&gt; WarmValency -&gt; WarmValency
max :: WarmValency -&gt; WarmValency -&gt; WarmValency
$cmin :: WarmValency -&gt; WarmValency -&gt; WarmValency
min :: WarmValency -&gt; WarmValency -&gt; WarmValency
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="hs-comment">-- `FromJSON`/`ToJSON` from &quot;Cardano.Tracing.OrphanInstances.Network&quot;.</span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span class="hs-comment">-- Replaced `HotValency` and `WarmValency` with `Valency`.</span><span>
</span><span id="line-415"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Tracing/OrphanInstances/Network.hs#L1638</span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103921"><span id="local-6989586621679103924"><span id="local-6989586621679103927"><span id="local-6989586621679103930"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-type">Valency</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-418"></span><span>  </span><span id="local-6989586621679103933"><span class="annot"><span class="annottext">toJSON :: Valency -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-type">Valency</span></a></span><span> </span><span id="local-6989586621679103934"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103934"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103934"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103937"><span id="local-6989586621679103941"><span id="local-6989586621679103944"><span id="local-6989586621679103947"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-type">HotValency</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-421"></span><span>  </span><span id="local-6989586621679103950"><span class="annot"><span class="annottext">toJSON :: HotValency -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-type">HotValency</span></a></span><span> </span><span id="local-6989586621679103951"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103951"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103951"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103954"><span id="local-6989586621679103958"><span id="local-6989586621679103961"><span id="local-6989586621679103964"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-type">WarmValency</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-424"></span><span>  </span><span id="local-6989586621679103967"><span class="annot"><span class="annottext">toJSON :: WarmValency -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-type">WarmValency</span></a></span><span> </span><span id="local-6989586621679103968"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103968"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679103968"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103971"><span id="local-6989586621679103974"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-type">Valency</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-427"></span><span>  </span><span id="local-6989586621679103978"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser Valency
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span id="local-6989586621679103979"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679103979"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Valency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#Valency"><span class="hs-identifier hs-var">Valency</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Valency) -&gt; Parser Int -&gt; Parser Valency
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679103979"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103982"><span id="local-6989586621679103986"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-type">HotValency</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-430"></span><span>  </span><span id="local-6989586621679103990"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser HotValency
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span id="local-6989586621679103991"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679103991"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; HotValency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#HotValency"><span class="hs-identifier hs-var">HotValency</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; HotValency) -&gt; Parser Int -&gt; Parser HotValency
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679103991"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679103994"><span id="local-6989586621679103998"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-type">WarmValency</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-433"></span><span>  </span><span id="local-6989586621679104002"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser WarmValency
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span id="local-6989586621679104003"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104003"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; WarmValency
</span><a href="Cardano.Benchmarking.Topology.Projection.html#WarmValency"><span class="hs-identifier hs-var">WarmValency</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; WarmValency) -&gt; Parser Int -&gt; Parser WarmValency
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104003"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-436"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.PeerTrustable --</span><span>
</span><span id="line-437"></span><span class="hs-comment">---------------------------------------------------</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Cardano/Network/PeerSelection/PeerTrustable.hs#L13</span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span class="hs-comment">-- | Is this Peer trustable as a bootstrap peer?</span><span>
</span><span id="line-442"></span><span class="hs-comment">--</span><span>
</span><span id="line-443"></span><span class="hs-comment">-- This trustability flag is used on local root peers (pre-genesis) to</span><span>
</span><span id="line-444"></span><span class="hs-comment">-- distinguish which locally configured peer is considered safe to trust for</span><span>
</span><span id="line-445"></span><span class="hs-comment">-- bootstrap purposes</span><span>
</span><span id="line-446"></span><span class="hs-comment">--</span><span>
</span><span id="line-447"></span><span class="hs-keyword">data</span><span> </span><span id="PeerTrustable"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerTrustable"><span class="hs-identifier hs-var">PeerTrustable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-448"></span><span>    </span><span id="IsTrustable"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#IsTrustable"><span class="hs-identifier hs-var">IsTrustable</span></a></span></span><span>
</span><span id="line-449"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="IsNotTrustable"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#IsNotTrustable"><span class="hs-identifier hs-var">IsNotTrustable</span></a></span></span><span>
</span><span id="line-450"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104005"><span id="local-6989586621679104007"><span class="annot"><span class="annottext">PeerTrustable -&gt; PeerTrustable -&gt; Bool
(PeerTrustable -&gt; PeerTrustable -&gt; Bool)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; Bool) -&gt; Eq PeerTrustable
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
== :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
$c/= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
/= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104010"><span id="local-6989586621679104012"><span id="local-6989586621679104015"><span class="annot"><span class="annottext">Int -&gt; PeerTrustable -&gt; ShowS
[PeerTrustable] -&gt; ShowS
PeerTrustable -&gt; String
(Int -&gt; PeerTrustable -&gt; ShowS)
-&gt; (PeerTrustable -&gt; String)
-&gt; ([PeerTrustable] -&gt; ShowS)
-&gt; Show PeerTrustable
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; PeerTrustable -&gt; ShowS
showsPrec :: Int -&gt; PeerTrustable -&gt; ShowS
$cshow :: PeerTrustable -&gt; String
show :: PeerTrustable -&gt; String
$cshowList :: [PeerTrustable] -&gt; ShowS
showList :: [PeerTrustable] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104020"><span id="local-6989586621679104022"><span id="local-6989586621679104024"><span id="local-6989586621679104028"><span id="local-6989586621679104031"><span id="local-6989586621679104034"><span id="local-6989586621679104037"><span class="annot"><span class="annottext">Eq PeerTrustable
Eq PeerTrustable =&gt;
(PeerTrustable -&gt; PeerTrustable -&gt; Ordering)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; Bool)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; Bool)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; Bool)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; Bool)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable)
-&gt; (PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable)
-&gt; Ord PeerTrustable
PeerTrustable -&gt; PeerTrustable -&gt; Bool
PeerTrustable -&gt; PeerTrustable -&gt; Ordering
PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: PeerTrustable -&gt; PeerTrustable -&gt; Ordering
compare :: PeerTrustable -&gt; PeerTrustable -&gt; Ordering
$c&lt; :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
&lt; :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
$c&lt;= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
&lt;= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
$c&gt; :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
&gt; :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
$c&gt;= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
&gt;= :: PeerTrustable -&gt; PeerTrustable -&gt; Bool
$cmax :: PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable
max :: PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable
$cmin :: PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable
min :: PeerTrustable -&gt; PeerTrustable -&gt; PeerTrustable
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104040"><span id="local-6989586621679104042"><span class="annot"><span class="annottext">(forall x. PeerTrustable -&gt; Rep PeerTrustable x)
-&gt; (forall x. Rep PeerTrustable x -&gt; PeerTrustable)
-&gt; Generic PeerTrustable
forall x. Rep PeerTrustable x -&gt; PeerTrustable
forall x. PeerTrustable -&gt; Rep PeerTrustable x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. PeerTrustable -&gt; Rep PeerTrustable x
from :: forall x. PeerTrustable -&gt; Rep PeerTrustable x
$cto :: forall x. Rep PeerTrustable x -&gt; PeerTrustable
to :: forall x. Rep PeerTrustable x -&gt; PeerTrustable
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="hs-comment">-- `FromJSON`/`ToJSON` from &quot;Cardano.Tracing.OrphanInstances.Network&quot;.</span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Tracing/OrphanInstances/Network.hs#L2824</span><span>
</span><span id="line-455"></span><span>
</span><span id="line-456"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104046"><span id="local-6989586621679104049"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerTrustable"><span class="hs-identifier hs-type">PeerTrustable</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-457"></span><span>  </span><span id="local-6989586621679104052"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser PeerTrustable
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Bool -&gt; Parser PeerTrustable) -&gt; Value -&gt; Parser PeerTrustable
forall a. String -&gt; (Bool -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.withBool</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PeerTrustable&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; Parser PeerTrustable) -&gt; Value -&gt; Parser PeerTrustable)
-&gt; (Bool -&gt; Parser PeerTrustable) -&gt; Value -&gt; Parser PeerTrustable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679104053"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679104053"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><span class="annottext">PeerTrustable -&gt; Parser PeerTrustable
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(PeerTrustable -&gt; Parser PeerTrustable)
-&gt; PeerTrustable -&gt; Parser PeerTrustable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679104053"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsTrustable"><span class="hs-identifier hs-var">IsTrustable</span></a></span><span>
</span><span id="line-459"></span><span>                </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsNotTrustable"><span class="hs-identifier hs-var">IsNotTrustable</span></a></span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104056"><span id="local-6989586621679104059"><span id="local-6989586621679104062"><span id="local-6989586621679104065"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#PeerTrustable"><span class="hs-identifier hs-type">PeerTrustable</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-462"></span><span>  </span><span id="local-6989586621679104067"><span class="annot"><span class="annottext">toJSON :: PeerTrustable -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsTrustable"><span class="hs-identifier hs-var">IsTrustable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Bool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-463"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">PeerTrustable
</span><a href="Cardano.Benchmarking.Topology.Projection.html#IsNotTrustable"><span class="hs-identifier hs-var">IsNotTrustable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.Bool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span class="hs-comment">-----------------------------------------------</span><span>
</span><span id="line-466"></span><span class="hs-comment">-- Ouroboros.Network.PeerSelection.Bootstrap --</span><span>
</span><span id="line-467"></span><span class="hs-comment">-----------------------------------------------</span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span class="hs-comment">-- https://github.com/IntersectMBO/ouroboros-network/blob/588130b5f0494a42c19da3bd44211ff7607b5831/ouroboros-network-api/src/Cardano/Network/PeerSelection/Bootstrap.hs#L15</span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span class="hs-keyword">data</span><span> </span><span id="UseBootstrapPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-var">UseBootstrapPeers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-472"></span><span>    </span><span id="DontUseBootstrapPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseBootstrapPeers"><span class="hs-identifier hs-var">DontUseBootstrapPeers</span></a></span></span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="UseBootstrapPeers"><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-var">UseBootstrapPeers</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#RelayAccessPoint"><span class="hs-identifier hs-type">RelayAccessPoint</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-474"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679104070"><span id="local-6989586621679104074"><span class="annot"><span class="annottext">UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
(UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; Eq UseBootstrapPeers
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
== :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
$c/= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
/= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104077"><span id="local-6989586621679104082"><span id="local-6989586621679104085"><span class="annot"><span class="annottext">Int -&gt; UseBootstrapPeers -&gt; ShowS
[UseBootstrapPeers] -&gt; ShowS
UseBootstrapPeers -&gt; String
(Int -&gt; UseBootstrapPeers -&gt; ShowS)
-&gt; (UseBootstrapPeers -&gt; String)
-&gt; ([UseBootstrapPeers] -&gt; ShowS)
-&gt; Show UseBootstrapPeers
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; UseBootstrapPeers -&gt; ShowS
showsPrec :: Int -&gt; UseBootstrapPeers -&gt; ShowS
$cshow :: UseBootstrapPeers -&gt; String
show :: UseBootstrapPeers -&gt; String
$cshowList :: [UseBootstrapPeers] -&gt; ShowS
showList :: [UseBootstrapPeers] -&gt; ShowS
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104090"><span id="local-6989586621679104095"><span id="local-6989586621679104099"><span id="local-6989586621679104103"><span id="local-6989586621679104106"><span id="local-6989586621679104109"><span id="local-6989586621679104112"><span class="annot"><span class="annottext">Eq UseBootstrapPeers
Eq UseBootstrapPeers =&gt;
(UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Ordering)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers)
-&gt; (UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers)
-&gt; Ord UseBootstrapPeers
UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Ordering
UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Ordering
compare :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Ordering
$c&lt; :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
&lt; :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
$c&lt;= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
&lt;= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
$c&gt; :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
&gt; :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
$c&gt;= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
&gt;= :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; Bool
$cmax :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers
max :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers
$cmin :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers
min :: UseBootstrapPeers -&gt; UseBootstrapPeers -&gt; UseBootstrapPeers
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679104115"><span id="local-6989586621679104117"><span class="annot"><span class="annottext">(forall x. UseBootstrapPeers -&gt; Rep UseBootstrapPeers x)
-&gt; (forall x. Rep UseBootstrapPeers x -&gt; UseBootstrapPeers)
-&gt; Generic UseBootstrapPeers
forall x. Rep UseBootstrapPeers x -&gt; UseBootstrapPeers
forall x. UseBootstrapPeers -&gt; Rep UseBootstrapPeers x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. UseBootstrapPeers -&gt; Rep UseBootstrapPeers x
from :: forall x. UseBootstrapPeers -&gt; Rep UseBootstrapPeers x
$cto :: forall x. Rep UseBootstrapPeers x -&gt; UseBootstrapPeers
to :: forall x. Rep UseBootstrapPeers x -&gt; UseBootstrapPeers
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="hs-comment">-- `FromJSON`/`ToJSON` from &quot;Cardano.Tracing.OrphanInstances.Network&quot;.</span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span class="hs-comment">-- https://github.com/IntersectMBO/cardano-node/blob/52b708f37cd3dc92a188717deae2a6a60117f696/cardano-node/src/Cardano/Tracing/OrphanInstances/Network.hs#L2816</span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104121"><span id="local-6989586621679104124"><span id="local-6989586621679104127"><span id="local-6989586621679104130"><span class="annot"><span class="hs-identifier hs-type">Aeson.ToJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-type">UseBootstrapPeers</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-481"></span><span>  </span><span id="local-6989586621679104134"><span class="annot"><span class="annottext">toJSON :: UseBootstrapPeers -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="annot"><span class="annottext">UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseBootstrapPeers"><span class="hs-identifier hs-var">DontUseBootstrapPeers</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">Aeson.Null</span></span><span>
</span><span id="line-482"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-type">UseBootstrapPeers</span></a></span><span> </span><span id="local-6989586621679104136"><span class="annot"><span class="annottext">[RelayAccessPoint]
</span><a href="#local-6989586621679104136"><span class="hs-identifier hs-var">dps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RelayAccessPoint] -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">Aeson.toJSON</span></span><span> </span><span class="annot"><span class="annottext">[RelayAccessPoint]
</span><a href="#local-6989586621679104136"><span class="hs-identifier hs-var">dps</span></a></span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679104139"><span id="local-6989586621679104142"><span class="annot"><span class="hs-identifier hs-type">Aeson.FromJSON</span></span><span> </span><span class="annot"><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-type">UseBootstrapPeers</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-485"></span><span>  </span><span id="local-6989586621679104148"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser UseBootstrapPeers
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">Aeson.Null</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UseBootstrapPeers -&gt; Parser UseBootstrapPeers
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#DontUseBootstrapPeers"><span class="hs-identifier hs-var">DontUseBootstrapPeers</span></a></span><span>
</span><span id="line-486"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span id="local-6989586621679104149"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104149"><span class="hs-identifier hs-var">v</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RelayAccessPoint] -&gt; UseBootstrapPeers
</span><a href="Cardano.Benchmarking.Topology.Projection.html#UseBootstrapPeers"><span class="hs-identifier hs-var">UseBootstrapPeers</span></a></span><span> </span><span class="annot"><span class="annottext">([RelayAccessPoint] -&gt; UseBootstrapPeers)
-&gt; Parser [RelayAccessPoint] -&gt; Parser UseBootstrapPeers
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/mk6l3sdyy9p9fidqj3vzy88k28r31xxm-ghc-9.6.6-doc/share/doc/ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser [RelayAccessPoint]
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">Aeson.parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679104149"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-487"></span></pre></body></html>